<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤´è‚©åº•å½¢æ€å®æˆ˜æ‰‹å†Œ - ä»åŸç†åˆ°ç›ˆåˆ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: #f8f9fa;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }
        
        h1 {
            color: #1a1a1a;
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.5em;
            padding-bottom: 20px;
            border-bottom: 3px solid #3498db;
            position: relative;
        }
        
        h1::after {
            content: 'å®æˆ˜ç‰ˆ v2.0';
            position: absolute;
            right: 0;
            bottom: 5px;
            font-size: 0.4em;
            color: #7f8c8d;
            font-weight: normal;
        }
        
        h2 {
            color: #2c3e50;
            margin: 40px 0 20px;
            font-size: 1.8em;
            padding-left: 15px;
            border-left: 4px solid #3498db;
        }
        
        h3 {
            color: #34495e;
            margin: 30px 0 15px;
            font-size: 1.3em;
        }
        
        .core-concept {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .core-concept h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .truth-box {
            background: #fee;
            border: 2px solid #f66;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
        }
        
        .truth-box::before {
            content: 'âš ï¸ çœŸç›¸';
            position: absolute;
            top: -12px;
            left: 20px;
            background: white;
            padding: 0 10px;
            color: #f66;
            font-weight: bold;
        }
        
        .practice-box {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
        }
        
        .practice-box::before {
            content: 'âœ“ å®æˆ˜';
            position: absolute;
            top: -12px;
            left: 20px;
            background: white;
            padding: 0 10px;
            color: #4caf50;
            font-weight: bold;
        }
        
        .code-principle {
            background: #f4f4f4;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
        }
        
        .step-by-step {
            counter-reset: step-counter;
            margin: 20px 0;
        }
        
        .step {
            position: relative;
            padding: 20px 20px 20px 60px;
            margin: 15px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            counter-increment: step-counter;
        }
        
        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
        }
        
        .formula {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.1em;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        th {
            background: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        
        td {
            padding: 10px 12px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .key-point {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px 20px;
            margin: 20px 0;
            font-weight: bold;
        }
        
        .checklist {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .checklist ul {
            list-style: none;
            padding-left: 0;
        }
        
        .checklist li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }
        
        .checklist li::before {
            content: "â–¡";
            position: absolute;
            left: 0;
            font-size: 1.2em;
        }
        
        .algorithm-box {
            background: #263238;
            color: #aed581;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Consolas', monospace;
        }
        
        .algorithm-box h4 {
            color: #81c784;
            margin-bottom: 15px;
        }
        
        .real-vs-backtest {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .real-trading {
            background: #ffebee;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #ef5350;
        }
        
        .backtest-trading {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #66bb6a;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .quick-ref {
            background: #fafafa;
            border: 2px dashed #bbb;
            padding: 20px;
            margin: 30px 0;
            border-radius: 8px;
        }
        
        .price-decision {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .price-card {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .price-card.recommended {
            border-color: #4caf50;
            background: #f1f8e9;
        }
        
        .price-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 768px) {
            .real-vs-backtest {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ˆ å¤´è‚©åº•å½¢æ€å®æˆ˜æ‰‹å†Œï¼šä»åŸç†åˆ°ç›ˆåˆ©</h1>
        
        <div class="core-concept">
            <h3>æ ¸å¿ƒç†å¿µ</h3>
            <p><strong>å¤´è‚©åº•ä¸æ˜¯é¢„è¨€ï¼Œè€Œæ˜¯æ¦‚ç‡ã€‚</strong></p>
            <p>æˆåŠŸçš„å…³é”®ä¸åœ¨äºæ‰¾åˆ°å®Œç¾çš„å½¢æ€ï¼Œè€Œåœ¨äºï¼šè¯†åˆ«æ ‡å‡†å½¢æ€ + ä¸¥æ ¼é£é™©ç®¡ç† + æ‰¿è®¤ä¼šæœ‰å¤±è´¥ã€‚</p>
            <p>è®°ä½ï¼šå³ä½¿æ˜¯æœ€æ ‡å‡†çš„å¤´è‚©åº•ï¼ŒæˆåŠŸç‡ä¹Ÿåªæœ‰60-70%ã€‚</p>
        </div>

        <h2>ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯çœŸæ­£çš„å¤´è‚©åº•</h2>
        
        <h3>1.1 å½¢æ€æœ¬è´¨</h3>
        <p>å¤´è‚©åº•æ˜¯ä¸‹è·Œè¶‹åŠ¿çš„ç»ˆç»“ä¿¡å·ï¼Œåæ˜ äº†å¸‚åœºä»ææ…Œåˆ°ç†æ€§çš„å¿ƒç†è½¬å˜è¿‡ç¨‹ï¼š</p>
        
        <div class="step-by-step">
            <div class="step">
                <strong>å·¦è‚©å½¢æˆ</strong>ï¼šææ…Œæ€§æŠ›å”®è¾¾åˆ°ç¬¬ä¸€ä¸ªæç‚¹ï¼Œå°‘æ•°ä»·å€¼æŠ•èµ„è€…å¼€å§‹å¸çº³ï¼Œå½¢æˆç¬¬ä¸€æ¬¡åå¼¹ã€‚
            </div>
            <div class="step">
                <strong>å¤´éƒ¨å½¢æˆ</strong>ï¼šå¸‚åœºå†æ¬¡ææ…Œï¼Œåˆ›å‡ºæ–°ä½ã€‚ä½†æ³¨æ„ï¼šæˆäº¤é‡å¼€å§‹èç¼©ï¼Œè¯´æ˜æŠ›å‹åœ¨å‡è½»ã€‚
            </div>
            <div class="step">
                <strong>å³è‚©å½¢æˆ</strong>ï¼šæœ€åä¸€æ‰¹ææ…Œç›˜æŠ›å‡ºï¼Œä½†å·²æ— æ³•åˆ›æ–°ä½ã€‚è¿™æ˜¯æœ€å…³é”®çš„ä¿¡å·â€”â€”å–å‹è¡°ç«­ã€‚
            </div>
            <div class="step">
                <strong>çªç ´é¢ˆçº¿</strong>ï¼šå½“ä»·æ ¼çªç ´ä¸¤ä¸ªåå¼¹é«˜ç‚¹è¿çº¿ï¼ˆé¢ˆçº¿ï¼‰æ—¶ï¼Œç¡®è®¤è¶‹åŠ¿åè½¬ã€‚
            </div>
        </div>

        <div class="truth-box">
            <p><strong>æ®‹é…·çœŸç›¸ï¼š</strong>åœ¨å³è‚©å½¢æˆæ—¶ï¼Œä½ æ— æ³•ç¡®å®šå®ƒå°±æ˜¯å³è‚©ã€‚åªæœ‰åœ¨çªç ´é¢ˆçº¿åï¼Œæ‰èƒ½ç¡®è®¤å½¢æ€å®Œæˆã€‚è¿™æ„å‘³ç€ä½ æ°¸è¿œä¹°ä¸åˆ°æœ€ä½ç‚¹ï¼</p>
        </div>

        <h3>1.2 æ ‡å‡†å½¢æ€çš„é‡åŒ–å®šä¹‰</h3>
        
        <table>
            <thead>
                <tr>
                    <th>è¦ç´ </th>
                    <th>æ ‡å‡†è¦æ±‚</th>
                    <th>å…è®¸åå·®</th>
                    <th>åŸå› </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>å·¦å³è‚©å¯¹ç§°æ€§</td>
                    <td>ä»·æ ¼ç›¸è¿‘</td>
                    <td>Â±15%</td>
                    <td>è¿‡äºå¯¹ç§°å¯èƒ½æ˜¯äººä¸ºæ“çºµ</td>
                </tr>
                <tr>
                    <td>å½¢æ€æ—¶é—´è·¨åº¦</td>
                    <td>60-90å¤©</td>
                    <td>40-120å¤©</td>
                    <td>å¤ªçŸ­ä¸å¤Ÿç¨³å®šï¼Œå¤ªé•¿å¤±å»æ„ä¹‰</td>
                </tr>
                <tr>
                    <td>æˆäº¤é‡æ¨¡å¼</td>
                    <td>å·¦è‚©>å¤´éƒ¨>å³è‚©</td>
                    <td>å¤´éƒ¨å¯ç•¥å¤§äºå³è‚©</td>
                    <td>åæ˜ æŠ›å‹é€æ¸å‡å°‘</td>
                </tr>
                <tr>
                    <td>çªç ´ç¡®è®¤</td>
                    <td>æ”¶ç›˜ä»·è¶…è¿‡é¢ˆçº¿3%</td>
                    <td>2-5%</td>
                    <td>é¿å…å‡çªç ´</td>
                </tr>
                <tr>
                    <td>çªç ´æˆäº¤é‡</td>
                    <td>è¶…è¿‡20æ—¥å‡é‡1.5å€</td>
                    <td>1.3-2å€</td>
                    <td>ç¡®è®¤ä¹°ç›˜å¼ºåŠ²</td>
                </tr>
            </tbody>
        </table>

        <h2>ç¬¬äºŒç« ï¼šç®—æ³•å®ç°åŸç†</h2>
        
        <h3>2.1 ä¸ºä»€ä¹ˆç”¨æœ€ä½ä»·ï¼ˆLowï¼‰æ‰¾ä½ç‚¹</h3>
        
        <div class="price-decision">
            <div class="price-card recommended">
                <h4>âœ… æœ€ä½ä»· (Low)</h4>
                <p>å‡†ç¡®åæ˜ æ”¯æ’‘ä½</p>
                <p>æ•æ‰ææ…Œä½ç‚¹</p>
                <p><strong>æ¨èç”¨äºï¼šæ‰¾å¤´è‚©åº•</strong></p>
            </div>
            <div class="price-card">
                <h4>âŒ å¼€ç›˜ä»· (Open)</h4>
                <p>å—éš”å¤œæ¶ˆæ¯å½±å“</p>
                <p>å¯èƒ½è·³ç©º</p>
                <p><strong>ä¸æ¨è</strong></p>
            </div>
            <div class="price-card">
                <h4>âš ï¸ æ”¶ç›˜ä»· (Close)</h4>
                <p>åæ˜ æ—¥å†…å…±è¯†</p>
                <p>è¾ƒä¸ºç¨³å®š</p>
                <p><strong>ç”¨äºï¼šç¡®è®¤çªç ´</strong></p>
            </div>
            <div class="price-card">
                <h4>âœ… æœ€é«˜ä»· (High)</h4>
                <p>åæ˜ é˜»åŠ›ä½</p>
                <p>ç”¨äºæ‰¾é¢ˆçº¿</p>
                <p><strong>æ¨èç”¨äºï¼šè®¡ç®—é¢ˆçº¿</strong></p>
            </div>
        </div>

        <h3>2.2 æ ¸å¿ƒç®—æ³•æ­¥éª¤</h3>
        
        <div class="algorithm-box">
            <h4>Pythonå®ç°æ ¸å¿ƒé€»è¾‘ï¼š</h4>
            <pre>
# æ­¥éª¤1ï¼šå¯»æ‰¾å±€éƒ¨æœ€å°å€¼ï¼ˆä½¿ç”¨Lowä»·æ ¼ï¼‰
from scipy.signal import argrelextrema
local_min_idx = argrelextrema(data['low'].values, np.less, order=5)[0]

# æ­¥éª¤2ï¼šè¯†åˆ«å¤´è‚©åº•æ¨¡å¼
for head_idx in range(1, len(local_min_idx)-1):
    head_price = data.iloc[local_min_idx[head_idx]]['low']
    
    # å¯»æ‰¾å·¦è‚©ï¼ˆå¤´éƒ¨ä¹‹å‰ï¼Œä»·æ ¼æ›´é«˜ï¼‰
    for left_idx in range(head_idx):
        left_price = data.iloc[local_min_idx[left_idx]]['low']
        if left_price <= head_price:
            continue
            
    # å¯»æ‰¾å³è‚©ï¼ˆå¤´éƒ¨ä¹‹åï¼Œä»·æ ¼æ›´é«˜ï¼‰
    for right_idx in range(head_idx+1, len(local_min_idx)):
        right_price = data.iloc[local_min_idx[right_idx]]['low']
        if right_price <= head_price:
            continue
            
        # æ£€æŸ¥å¯¹ç§°æ€§
        if abs(left_price - right_price) / left_price < 0.20:
            # æ‰¾åˆ°æ½œåœ¨çš„å¤´è‚©åº•ï¼

# æ­¥éª¤3ï¼šè®¡ç®—é¢ˆçº¿ï¼ˆä½¿ç”¨Highä»·æ ¼ï¼‰
neckline = (left_neck_high + right_neck_high) / 2

# æ­¥éª¤4ï¼šç­‰å¾…çªç ´ï¼ˆä½¿ç”¨Closeä»·æ ¼ï¼‰
if close_price > neckline * 1.03:  # çªç ´3%
    # ç¡®è®¤ä¹°å…¥ä¿¡å·
            </pre>
        </div>

        <div class="key-point">
            è®°ä½ï¼š<code>argrelextrema</code>å‡½æ•°ä¸­çš„<code>order=5</code>è¡¨ç¤ºä¸å‰å5å¤©æ¯”è¾ƒã€‚è¿™ä¸ªå‚æ•°å¾ˆå…³é”®ï¼Œå¤ªå°ä¼šæœ‰å¤ªå¤šå™ªéŸ³ï¼Œå¤ªå¤§ä¼šé”™è¿‡å½¢æ€ã€‚
        </div>

        <h2>ç¬¬ä¸‰ç« ï¼šå®æ—¶äº¤æ˜“ vs å†å²å›æµ‹çš„çœŸç›¸</h2>
        
        <div class="real-vs-backtest">
            <div class="real-trading">
                <h4>ğŸ˜° å®æ—¶äº¤æ˜“</h4>
                <ul>
                    <li>çœ‹ä¸åˆ°æœªæ¥Kçº¿</li>
                    <li>ä¸ç¡®å®šå³è‚©æ˜¯å¦å®Œæˆ</li>
                    <li>å¯èƒ½å½¢æ€å¤±è´¥</li>
                    <li>éœ€è¦ç­‰å¾…çªç ´ç¡®è®¤</li>
                    <li>ä¹°å…¥ä»·æ ¼è¾ƒé«˜</li>
                    <li>å¿ƒç†å‹åŠ›å¤§</li>
                </ul>
            </div>
            <div class="backtest-trading">
                <h4>ğŸ˜Š å†å²å›æµ‹</h4>
                <ul>
                    <li>èƒ½çœ‹åˆ°å®Œæ•´å½¢æ€</li>
                    <li>çŸ¥é“å“ªäº›æˆåŠŸäº†</li>
                    <li>æ²¡æœ‰å¤±è´¥çš„ç„¦è™‘</li>
                    <li>å¯ä»¥åœ¨æœ€ä½³ä½ç½®"ä¹°å…¥"</li>
                    <li>æ²¡æœ‰æ»‘ç‚¹å’Œæ„å¤–</li>
                    <li>å®¹æ˜“è¿‡åº¦ä¹è§‚</li>
                </ul>
            </div>
        </div>

        <div class="truth-box">
            <p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ç›˜æ€»æ˜¯æ¯”å›æµ‹éš¾ï¼</strong></p>
            <p>è§£å†³æ–¹æ¡ˆï¼š</p>
            <ol>
                <li>å›æµ‹æ—¶åŠ å…¥æ›´ä¿å®ˆçš„å‡è®¾ï¼ˆæ»‘ç‚¹ã€æ‰‹ç»­è´¹ã€å¤±è´¥ç‡ï¼‰</li>
                <li>åªåœ¨æœ€æ ‡å‡†çš„å½¢æ€ä¸Šä¸‹æ³¨</li>
                <li>ä¸¥æ ¼æ§åˆ¶ä»“ä½ï¼ˆ10-20%ï¼‰</li>
                <li>æ°¸è¿œè®¾ç½®æ­¢æŸ</li>
            </ol>
        </div>

        <h2>ç¬¬å››ç« ï¼šå®Œæ•´çš„å®æˆ˜æ“ä½œæµç¨‹</h2>
        
        <h3>4.1 é€‰è‚¡é˜¶æ®µ</h3>
        
        <div class="checklist">
            <h4>æ¯æ—¥æ‰«ææ¸…å•ï¼š</h4>
            <ul>
                <li>æ‰«æè¿‡å»120å¤©æœ‰æ˜æ˜¾ä¸‹è·Œçš„è‚¡ç¥¨ï¼ˆè·Œå¹…>30%ï¼‰</li>
                <li>å‰”é™¤STè‚¡ã€é—®é¢˜è‚¡</li>
                <li>æ£€æŸ¥æ˜¯å¦æœ‰æ½œåœ¨çš„å¤´è‚©åº•å½¢æ€</li>
                <li>ç¡®è®¤æˆäº¤é‡ç¬¦åˆèç¼©æ¨¡å¼</li>
                <li>æ£€æŸ¥åŸºæœ¬é¢æ˜¯å¦æœ‰æ”¹å–„è¿¹è±¡</li>
            </ul>
        </div>

        <h3>4.2 å½¢æ€ç¡®è®¤é˜¶æ®µ</h3>
        
        <div class="practice-box">
            <h4>å®æˆ˜ç¡®è®¤æ­¥éª¤ï¼š</h4>
            <ol>
                <li><strong>ç”»å‡ºå…³é”®ç‚¹ä½ï¼š</strong>
                    <ul>
                        <li>å·¦è‚©ä½ç‚¹ï¼ˆL1ï¼‰</li>
                        <li>å¤´éƒ¨ä½ç‚¹ï¼ˆHï¼‰</li>
                        <li>å³è‚©ä½ç‚¹ï¼ˆL2ï¼‰</li>
                        <li>é¢ˆçº¿ï¼ˆä¸¤ä¸ªåå¼¹é«˜ç‚¹è¿çº¿ï¼‰</li>
                    </ul>
                </li>
                <li><strong>è®¡ç®—å…³é”®æ•°å€¼ï¼š</strong>
                    <ul>
                        <li>å¯¹ç§°æ€§ = |L1 - L2| / L1 ï¼ˆåº”<20%ï¼‰</li>
                        <li>å½¢æ€é«˜åº¦ = é¢ˆçº¿ - H</li>
                        <li>ç›®æ ‡ä»· = é¢ˆçº¿ + å½¢æ€é«˜åº¦</li>
                        <li>æ­¢æŸä»· = L2 Ã— 0.95</li>
                    </ul>
                </li>
                <li><strong>ç­‰å¾…çªç ´ä¿¡å·ï¼š</strong>
                    <ul>
                        <li>æ—¥Kæ”¶ç›˜ä»· > é¢ˆçº¿ Ã— 1.03</li>
                        <li>æˆäº¤é‡ > 20æ—¥å‡é‡ Ã— 1.5</li>
                        <li>æœ€å¥½æœ‰è·³ç©ºç¼ºå£</li>
                    </ul>
                </li>
            </ol>
        </div>

        <h3>4.3 ä¹°å…¥æ‰§è¡Œ</h3>
        
        <div class="formula">
            <p><strong>æ ‡å‡†ä¹°å…¥æ³•ï¼š</strong></p>
            <p>çªç ´æ—¥æ”¶ç›˜å‰15åˆ†é’Ÿä¹°å…¥50% + æ¬¡æ—¥å›è¸©ç¡®è®¤ä¹°å…¥50%</p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>ä¹°å…¥æ–¹å¼</th>
                    <th>ä¼˜ç‚¹</th>
                    <th>ç¼ºç‚¹</th>
                    <th>é€‚åˆäººç¾¤</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>çªç ´å½“æ—¥ä¹°å…¥</td>
                    <td>åŠæ—¶ä¸Šè½¦</td>
                    <td>å¯èƒ½ä¹°åœ¨é«˜ç‚¹</td>
                    <td>æ¿€è¿›å‹</td>
                </tr>
                <tr>
                    <td>å›è¸©é¢ˆçº¿ä¹°å…¥</td>
                    <td>ä»·æ ¼æ›´ä¼˜</td>
                    <td>å¯èƒ½è¸ç©º</td>
                    <td>ç¨³å¥å‹</td>
                </tr>
                <tr>
                    <td>åˆ†æ‰¹ä¹°å…¥</td>
                    <td>å¹³è¡¡é£é™©</td>
                    <td>æ“ä½œå¤æ‚</td>
                    <td>ä¸“ä¸šå‹</td>
                </tr>
            </tbody>
        </table>

        <h3>4.4 æŒä»“ç®¡ç†</h3>
        
        <div class="warning">
            <h4>âš ï¸ å…³é”®åŸåˆ™ï¼š</h4>
            <ul>
                <li>å•åªè‚¡ç¥¨ä»“ä½ä¸è¶…è¿‡20%</li>
                <li>æ­¢æŸä½å¿…é¡»è®¾ç½®ï¼ˆå³è‚©ä½ç‚¹ä¸‹æ–¹5%ï¼‰</li>
                <li>åˆ†æ‰¹æ­¢ç›ˆï¼šç›®æ ‡ä½50% + è®©åˆ©æ¶¦å¥”è·‘50%</li>
                <li>çªç ´åè·Œç ´é¢ˆçº¿å¿…é¡»æ­¢æŸ</li>
            </ul>
        </div>

        <h3>4.5 é€€å‡ºç­–ç•¥</h3>
        
        <div class="step-by-step">
            <div class="step">
                <strong>æ­¢æŸé€€å‡º</strong>ï¼šè·Œç ´æ­¢æŸä»·ï¼ˆå³è‚©ä½ç‚¹Ã—0.95ï¼‰ï¼Œæ— æ¡ä»¶é€€å‡ºã€‚
            </div>
            <div class="step">
                <strong>æ­¢ç›ˆé€€å‡º</strong>ï¼šè¾¾åˆ°ç›®æ ‡ä»·ï¼ˆé¢ˆçº¿+å½¢æ€é«˜åº¦ï¼‰ï¼Œå–å‡º50%ã€‚
            </div>
            <div class="step">
                <strong>è¶‹åŠ¿é€€å‡º</strong>ï¼šè·Œç ´20æ—¥å‡çº¿ï¼Œæ¸…ä»“ã€‚
            </div>
            <div class="step">
                <strong>æ—¶é—´é€€å‡º</strong>ï¼šæŒæœ‰è¶…è¿‡60å¤©æœªè¾¾ç›®æ ‡ï¼Œè€ƒè™‘é€€å‡ºã€‚
            </div>
        </div>

        <h2>ç¬¬äº”ç« ï¼šå¸¸è§é”™è¯¯ä¸é™·é˜±</h2>
        
        <h3>5.1 è¯†åˆ«é˜¶æ®µçš„é”™è¯¯</h3>
        
        <table>
            <thead>
                <tr>
                    <th>é”™è¯¯ç±»å‹</th>
                    <th>è¡¨ç°</th>
                    <th>åæœ</th>
                    <th>è§£å†³æ–¹æ¡ˆ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>è¿‡åº¦è§£è¯»</td>
                    <td>æŠŠä»»ä½•ä¸‰ä¸ªä½ç‚¹éƒ½çœ‹æˆå¤´è‚©åº•</td>
                    <td>é¢‘ç¹é”™è¯¯äº¤æ˜“</td>
                    <td>ä¸¥æ ¼æŒ‰æ ‡å‡†ç­›é€‰</td>
                </tr>
                <tr>
                    <td>å¿½è§†æˆäº¤é‡</td>
                    <td>åªçœ‹ä»·æ ¼å½¢æ€</td>
                    <td>ä¹°å…¥é™·é˜±</td>
                    <td>é‡ä»·å¿…é¡»é…åˆ</td>
                </tr>
                <tr>
                    <td>è¿½æ±‚å®Œç¾</td>
                    <td>ç­‰å¾…100%æ ‡å‡†çš„å½¢æ€</td>
                    <td>é”™è¿‡æœºä¼š</td>
                    <td>æ¥å—80%ç¬¦åˆå³å¯</td>
                </tr>
                <tr>
                    <td>æ—¶é—´æ¡†æ¶æ··ä¹±</td>
                    <td>åœ¨5åˆ†é’Ÿå›¾æ‰¾å¤´è‚©åº•</td>
                    <td>å™ªéŸ³å¤ªå¤š</td>
                    <td>æ—¥çº¿ä¸ºä¸»ï¼Œå‘¨çº¿ç¡®è®¤</td>
                </tr>
            </tbody>
        </table>

        <h3>5.2 äº¤æ˜“é˜¶æ®µçš„é”™è¯¯</h3>
        
        <div class="truth-box">
            <h4>æœ€å¸¸è§çš„è‡´å‘½é”™è¯¯ï¼š</h4>
            <ol>
                <li><strong>æå‰æŠ„åº•</strong>ï¼šåœ¨å³è‚©å½¢æˆè¿‡ç¨‹ä¸­å°±ä¹°å…¥ï¼Œç»“æœç»§ç»­ä¸‹è·Œ</li>
                <li><strong>è¿½é«˜ä¹°å…¥</strong>ï¼šçªç ´åæ¶¨å¹…è¿‡å¤§æ‰è¿½ï¼Œä¹°åœ¨çŸ­æœŸé«˜ç‚¹</li>
                <li><strong>ä¸è®¾æ­¢æŸ</strong>ï¼šè®¤ä¸ºå½¢æ€æ ‡å‡†å°±ä¸€å®šæˆåŠŸï¼Œç»“æœæ·±å¥—</li>
                <li><strong>ä»“ä½è¿‡é‡</strong>ï¼šå¯¹å•ä¸€å½¢æ€è¿‡åº¦è‡ªä¿¡ï¼Œè¿èƒŒé£é™©ç®¡ç†</li>
                <li><strong>è¿‡æ—©æ­¢ç›ˆ</strong>ï¼šå°èµšå°±è·‘ï¼Œé”™è¿‡ä¸»å‡æµª</li>
            </ol>
        </div>

        <h2>ç¬¬å…­ç« ï¼šæé«˜æˆåŠŸç‡çš„è¿›é˜¶æŠ€å·§</h2>
        
        <h3>6.1 å¤šé‡ç¡®è®¤ç³»ç»Ÿ</h3>
        
        <div class="practice-box">
            <h4>åŠ åˆ†é¡¹ï¼ˆæ¯é¡¹+10%æˆåŠŸç‡ï¼‰ï¼š</h4>
            <ul>
                <li>â–¡ MACDåœ¨å¤´éƒ¨å‡ºç°åº•èƒŒç¦»</li>
                <li>â–¡ RSIåœ¨å³è‚©æ—¶é«˜äºå¤´éƒ¨</li>
                <li>â–¡ çªç ´æ—¶Kçº¿æ”¶ç›˜ä»·ç«™ä¸Š20æ—¥å‡çº¿</li>
                <li>â–¡ æ‰€å±æ¿å—æ•´ä½“èµ°å¼º</li>
                <li>â–¡ å¤§ç›˜ç¯å¢ƒé…åˆï¼ˆè‡³å°‘ä¸æ˜¯ä¸‹è·Œè¶‹åŠ¿ï¼‰</li>
                <li>â–¡ åŒ—å‘èµ„é‡‘æµå…¥è¯¥è‚¡</li>
                <li>â–¡ å…¬å¸åŸºæœ¬é¢æœ‰æ”¹å–„</li>
            </ul>
            <p><strong>å»ºè®®ï¼šè‡³å°‘æ»¡è¶³4é¡¹æ‰è€ƒè™‘äº¤æ˜“</strong></p>
        </div>

        <h3>6.2 æ¿å—è½®åŠ¨å¢å¼º</h3>
        
        <div class="key-point">
            <p>å¤´è‚©åº•æˆåŠŸç‡æœ€é«˜çš„æƒ…å†µï¼š</p>
            <ol>
                <li>æ•´ä¸ªæ¿å—éƒ½åœ¨ç­‘åº•</li>
                <li>é¾™å¤´è‚¡ç‡å…ˆçªç ´</li>
                <li>æˆäº¤é‡æŒç»­æ”¾å¤§</li>
                <li>æœ‰æ”¿ç­–æˆ–åŸºæœ¬é¢æ”¯æ’‘</li>
            </ol>
            <p><strong>å®æˆ˜å»ºè®®ï¼š</strong>ä¼˜å…ˆé€‰æ‹©æ¿å—æ€§æœºä¼šä¸­çš„å¤´è‚©åº•å½¢æ€ã€‚</p>
        </div>

        <h3>6.3 èµ„é‡‘ç®¡ç†çš„æ•°å­¦æ¨¡å‹</h3>
        
        <div class="formula">
            <p><strong>å‡¯åˆ©å…¬å¼åº”ç”¨ï¼š</strong></p>
            <p>æœ€ä¼˜ä»“ä½ = (èƒœç‡ Ã— ç›ˆäºæ¯” - (1-èƒœç‡)) / ç›ˆäºæ¯”</p>
            <p>å‡è®¾ï¼šèƒœç‡60%ï¼Œç›ˆäºæ¯”2:1</p>
            <p>æœ€ä¼˜ä»“ä½ = (0.6 Ã— 2 - 0.4) / 2 = 40%</p>
            <p><strong>å®æˆ˜å»ºè®®ï¼š</strong>å®é™…ä»“ä½ = æœ€ä¼˜ä»“ä½ Ã— 0.5 = 20%ï¼ˆä¿å®ˆåŸåˆ™ï¼‰</p>
        </div>

        <h2>ç¬¬ä¸ƒç« ï¼šç¼–ç¨‹å®ç°è¦ç‚¹</h2>
        
        <h3>7.1 æ•°æ®å‡†å¤‡</h3>
        
        <div class="code-principle">
            <pre>
# å…³é”®æ•°æ®è¦æ±‚
1. æ—¥çº¿æ•°æ®è‡³å°‘200å¤©ï¼ˆåŒ…å«ä¸€ä¸ªå®Œæ•´çš„ä¸‹è·Œè¶‹åŠ¿ï¼‰
2. å¿…é¡»åŒ…å«çš„å­—æ®µï¼šdate, open, high, low, close, volume
3. æ•°æ®æ¸…æ´—ï¼šå‰”é™¤åœç‰Œæ—¥ã€å¤„ç†é™¤æƒé™¤æ¯

# æ•°æ®åŠ è½½ç¤ºä¾‹
import pandas as pd
daily_data = pd.read_parquet('daily_data.parquet')
daily_data['date'] = pd.to_datetime(daily_data['date'])
daily_data = daily_data.sort_values('date')
            </pre>
        </div>

        <h3>7.2 å½¢æ€è¯†åˆ«æ ¸å¿ƒå‡½æ•°</h3>
        
        <div class="algorithm-box">
            <h4>ç”Ÿäº§çº§ä»£ç æ¡†æ¶ï¼š</h4>
            <pre>
class HeadAndShouldersDetector:
    def __init__(self, 
                 min_pattern_days=40,    # æœ€å°å½¢æ€å¤©æ•°
                 max_pattern_days=120,   # æœ€å¤§å½¢æ€å¤©æ•°
                 symmetry_tolerance=0.20, # å¯¹ç§°å®¹å·®20%
                 breakout_threshold=0.03): # çªç ´é˜ˆå€¼3%
        self.params = locals()
    
    def find_patterns(self, data):
        """æ ¸å¿ƒè¯†åˆ«é€»è¾‘"""
        # 1. æ‰¾å±€éƒ¨æå€¼
        lows = self.find_local_minima(data['low'])
        highs = self.find_local_maxima(data['high'])
        
        # 2. åŒ¹é…å¤´è‚©åº•æ¨¡å¼
        patterns = []
        for head_idx in range(1, len(lows)-1):
            pattern = self.match_pattern(data, lows, highs, head_idx)
            if pattern:
                patterns.append(pattern)
        
        # 3. ç¡®è®¤çªç ´
        confirmed = self.confirm_breakouts(data, patterns)
        
        return confirmed
    
    def calculate_targets(self, pattern):
        """è®¡ç®—å…³é”®ä»·ä½"""
        return {
            'entry': pattern['neckline'] * 1.03,
            'stop_loss': pattern['right_shoulder'] * 0.95,
            'target': pattern['neckline'] + pattern['height'],
            'risk_reward': pattern['height'] / (pattern['neckline'] - pattern['right_shoulder'])
        }
            </pre>
        </div>

        <h3>7.3 å›æµ‹æ¡†æ¶</h3>
        
        <div class="warning">
            <h4>å›æµ‹å¿…é¡»åŒ…å«çš„çœŸå®å› ç´ ï¼š</h4>
            <ul>
                <li>æ»‘ç‚¹ï¼šä¹°å…¥ä»·+0.1%ï¼Œå–å‡ºä»·-0.1%</li>
                <li>æ‰‹ç»­è´¹ï¼šåŒè¾¹ä¸‡åˆ†ä¹‹ä¸‰</li>
                <li>æ¶¨è·Œåœé™åˆ¶ï¼šæ— æ³•ä¹°å…¥/å–å‡º</li>
                <li>åœç‰Œå¤„ç†ï¼šæŒä»“ä¸å˜</li>
                <li>æœ€å¤§å›æ’¤æ§åˆ¶ï¼šæ€»èµ„é‡‘å›æ’¤20%åœæ­¢äº¤æ˜“</li>
            </ul>
        </div>

        <h2>ç¬¬å…«ç« ï¼šå®æˆ˜æ¡ˆä¾‹å¤ç›˜</h2>
        
        <h3>8.1 æˆåŠŸæ¡ˆä¾‹åˆ†æ</h3>
        
        <div class="practice-box">
            <h4>æ¡ˆä¾‹ï¼šæŸé“¶è¡Œè‚¡2024å¹´å¤´è‚©åº•</h4>
            <p><strong>å½¢æ€æ•°æ®ï¼š</strong></p>
            <ul>
                <li>å·¦è‚©ï¼š8.5å…ƒï¼ˆ1æœˆ15æ—¥ï¼‰</li>
                <li>å¤´éƒ¨ï¼š7.8å…ƒï¼ˆ2æœˆ20æ—¥ï¼‰</li>
                <li>å³è‚©ï¼š8.4å…ƒï¼ˆ3æœˆ25æ—¥ï¼‰</li>
                <li>é¢ˆçº¿ï¼š9.2å…ƒ</li>
                <li>çªç ´ï¼š4æœˆ10æ—¥ï¼Œæ”¶ç›˜9.48å…ƒ</li>
            </ul>
            <p><strong>äº¤æ˜“æ‰§è¡Œï¼š</strong></p>
            <ul>
                <li>ä¹°å…¥ï¼š9.50å…ƒï¼ˆæ¬¡æ—¥å¼€ç›˜ï¼‰</li>
                <li>æ­¢æŸï¼š7.98å…ƒï¼ˆå³è‚©ä½ç‚¹Ã—0.95ï¼‰</li>
                <li>ç›®æ ‡ï¼š10.60å…ƒï¼ˆ9.2+1.4ï¼‰</li>
                <li>ç»“æœï¼š5æœˆ20æ—¥è¾¾åˆ°ç›®æ ‡ï¼Œè·åˆ©11.6%</li>
            </ul>
            <p><strong>æˆåŠŸè¦ç´ ï¼š</strong></p>
            <ol>
                <li>é“¶è¡Œæ¿å—æ•´ä½“ä¼ç¨³</li>
                <li>æˆäº¤é‡å®Œç¾é…åˆ</li>
                <li>MACDé‡‘å‰ç¡®è®¤</li>
                <li>çªç ´å¹²å‡€åˆ©è½</li>
            </ol>
        </div>

        <h3>8.2 å¤±è´¥æ¡ˆä¾‹åˆ†æ</h3>
        
        <div class="truth-box">
            <h4>æ¡ˆä¾‹ï¼šæŸç§‘æŠ€è‚¡å‡çªç ´</h4>
            <p><strong>å½¢æ€æ•°æ®ï¼š</strong></p>
            <ul>
                <li>å½¢æ€æ ‡å‡†ï¼Œå¯¹ç§°æ€§è‰¯å¥½</li>
                <li>çªç ´é¢ˆçº¿3.5%</li>
                <li>ä½†æˆäº¤é‡æœªæ˜æ˜¾æ”¾å¤§</li>
            </ul>
            <p><strong>å¤±è´¥åŸå› ï¼š</strong></p>
            <ol>
                <li>å¤§ç›˜ç¯å¢ƒè½¬å¼±</li>
                <li>çªç ´æ—¶æˆäº¤é‡ä¸è¶³</li>
                <li>å…¬å¸ä¸šç»©ä½äºé¢„æœŸ</li>
                <li>ä¸»åŠ›è¯±å¤šå‡ºè´§</li>
            </ol>
            <p><strong>æ•™è®­ï¼š</strong></p>
            <ul>
                <li>æˆäº¤é‡æ˜¯çµé­‚ï¼Œå¿…é¡»æ”¾å¤§</li>
                <li>å¤§ç¯å¢ƒä¸é…åˆï¼ŒæˆåŠŸç‡å¤§é™</li>
                <li>åŸºæœ¬é¢æ¶åŒ–ï¼ŒæŠ€æœ¯é¢å¤±æ•ˆ</li>
                <li>æ­¢æŸæ˜¯æœ€åçš„é˜²çº¿</li>
            </ul>
        </div>

        <h2>ç¬¬ä¹ç« ï¼šå¿ƒç†å»ºè®¾ä¸çºªå¾‹</h2>
        
        <h3>9.1 æ­£ç¡®çš„äº¤æ˜“å¿ƒæ€</h3>
        
        <div class="summary-card">
            <h3>äº¤æ˜“è€…çš„å››ä¸ªè§‰æ‚Ÿ</h3>
            <ol>
                <li><strong>æ¥å—ä¸å®Œç¾ï¼š</strong>æ²¡æœ‰100%æˆåŠŸçš„å½¢æ€</li>
                <li><strong>æ¥å—æ­¢æŸï¼š</strong>æ­¢æŸæ˜¯æˆæœ¬ï¼Œä¸æ˜¯å¤±è´¥</li>
                <li><strong>æ¥å—è¸ç©ºï¼š</strong>å®å¯é”™è¿‡ï¼Œä¸å¯åšé”™</li>
                <li><strong>æ¥å—ç­‰å¾…ï¼š</strong>å¥½æœºä¼šå€¼å¾—è€å¿ƒç­‰å¾…</li>
            </ol>
        </div>

        <h3>9.2 é“å¾‹æ¸…å•</h3>
        
        <div class="checklist">
            <h4>æ¯æ¬¡äº¤æ˜“å‰å¿…é¡»ç¡®è®¤ï¼š</h4>
            <ul>
                <li>â–¡ å½¢æ€ç¬¦åˆæ ‡å‡†ï¼ˆå¯¹ç§°æ€§ã€æ—¶é—´ã€æˆäº¤é‡ï¼‰</li>
                <li>â–¡ å·²è®¾å®šæ­¢æŸä»·ä½</li>
                <li>â–¡ ä»“ä½ä¸è¶…è¿‡æ€»èµ„é‡‘20%</li>
                <li>â–¡ å¤§ç›˜ä¸åœ¨ä¸‹è·Œè¶‹åŠ¿</li>
                <li>â–¡ æœ‰æ˜ç¡®çš„é€€å‡ºè®¡åˆ’</li>
                <li>â–¡ å¿ƒæ€å¹³å’Œï¼Œä¸æ€¥èº</li>
                <li>â–¡ æ¥å—å¯èƒ½çš„äºæŸ</li>
            </ul>
        </div>

        <h2>ç¬¬åç« ï¼šæ€»ç»“ä¸è¡ŒåŠ¨æŒ‡å—</h2>
        
        <div class="quick-ref">
            <h3>ğŸ¯ å¤´è‚©åº•äº¤æ˜“é€ŸæŸ¥è¡¨</h3>
            <table>
                <tr>
                    <td><strong>å¯»æ‰¾ä½ç‚¹</strong></td>
                    <td>ä½¿ç”¨æœ€ä½ä»·(Low)</td>
                </tr>
                <tr>
                    <td><strong>è®¡ç®—é¢ˆçº¿</strong></td>
                    <td>ä½¿ç”¨æœ€é«˜ä»·(High)</td>
                </tr>
                <tr>
                    <td><strong>ç¡®è®¤çªç ´</strong></td>
                    <td>ä½¿ç”¨æ”¶ç›˜ä»·(Close)</td>
                </tr>
                <tr>
                    <td><strong>ä¹°å…¥æ—¶æœº</strong></td>
                    <td>çªç ´é¢ˆçº¿3%</td>
                </tr>
                <tr>
                    <td><strong>æ­¢æŸä½ç½®</strong></td>
                    <td>å³è‚©ä½ç‚¹ä¸‹5%</td>
                </tr>
                <tr>
                    <td><strong>ç›®æ ‡ä»·ä½</strong></td>
                    <td>é¢ˆçº¿+å½¢æ€é«˜åº¦</td>
                </tr>
                <tr>
                    <td><strong>ä»“ä½æ§åˆ¶</strong></td>
                    <td>10-20%</td>
                </tr>
                <tr>
                    <td><strong>æŒæœ‰æ—¶é—´</strong></td>
                    <td>æœ€é•¿60å¤©</td>
                </tr>
            </table>
        </div>

        <div class="core-concept" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <h3>æœ€åçš„è¯</h3>
            <p>å¤´è‚©åº•å½¢æ€äº¤æ˜“æˆåŠŸçš„å…³é”®ä¸åœ¨äºæ‰¾åˆ°å¤šå°‘ä¸ªå½¢æ€ï¼Œè€Œåœ¨äºï¼š</p>
            <ol>
                <li><strong>ä¸¥æ ¼çš„æ ‡å‡†</strong> - å®ç¼ºæ¯‹æ»¥</li>
                <li><strong>å®Œå–„çš„è®¡åˆ’</strong> - è¿›åœºã€æ­¢æŸã€æ­¢ç›ˆéƒ½è¦æ˜ç¡®</li>
                <li><strong>é“çš„çºªå¾‹</strong> - è®¡åˆ’ä½ çš„äº¤æ˜“ï¼Œäº¤æ˜“ä½ çš„è®¡åˆ’</li>
                <li><strong>æŒç»­å­¦ä¹ </strong> - å¸‚åœºåœ¨å˜ï¼Œç­–ç•¥è¦è¿›åŒ–</li>
            </ol>
            <p><strong>è®°ä½ï¼šä¸“ä¸šäº¤æ˜“è€…å’Œä¸šä½™äº¤æ˜“è€…çš„åŒºåˆ«ï¼Œä¸åœ¨äºä»–ä»¬èµšäº†å¤šå°‘ï¼Œè€Œåœ¨äºä»–ä»¬å¦‚ä½•æ§åˆ¶é£é™©ã€‚</strong></p>
        </div>

        <div class="summary-card">
            <h3>ğŸ“Œ ç«‹å³è¡ŒåŠ¨</h3>
            <ol>
                <li>ä¿å­˜è¿™ä»½æ‰‹å†Œï¼Œå»ºç«‹è‡ªå·±çš„äº¤æ˜“è§„åˆ™</li>
                <li>ç”¨å†å²æ•°æ®ç»ƒä¹ è¯†åˆ«å¤´è‚©åº•å½¢æ€</li>
                <li>å»ºç«‹é€‰è‚¡æ‰«æç³»ç»Ÿï¼Œæ¯æ—¥æ‰§è¡Œ</li>
                <li>å…ˆç”¨æ¨¡æ‹Ÿç›˜ç»ƒä¹ ï¼Œç†Ÿç»ƒåå†å®ç›˜</li>
                <li>è®°å½•æ¯ç¬”äº¤æ˜“ï¼Œå®šæœŸå¤ç›˜æ”¹è¿›</li>
            </ol>
            <p style="text-align: center; margin-top: 20px; font-size: 1.2em;">
                <strong>ç¥ä½ äº¤æ˜“é¡ºåˆ©ï¼Œç¨³å¥ç›ˆåˆ©ï¼</strong>
            </p>
        </div>
    </div>
</body>
</html>